---
title: git笔记
date: 2017-01-05 10:55:25
tags: 那些年的坑
categories: [学习心得, 网络编程]
---

哇，真是心态爆炸，这运维小哥自己搭建的gitlab简直难用到死，UI用户体验差不说，最重要的是竟然会有
延迟，有延迟，有延迟！！兄弟，您 逗我呢？今天发现自己的push到dev分支的内容配置有点问题，就想着
回滚一下，`git reset *****`,然后一顿commit，pull，push和merge，然而似乎远端的dev对我有点意见，丝毫
不受我影响，R U kidding me?平常倒是还没注意，运维小哥还留着这么个彩蛋。然后小哥给我一顿教育，说
用sourceTree按照操作规范来就不会出问题||-_-||无奈，您那么帅，说啥都对。然后又是在sourceTree
的UI上面一顿的右键然后左键，好了，提交，推送，合并。认真你就输了，虽然我一顿操作，似乎dev仍旧是不领情，
反而是一堆的分支视图看着我想吐。于是再次跟小哥沟通，小哥无奈只能说由他来改。到了晚上我在去gitlab上面看，
呵呵，这原来的操作全部都生效了的，只不过不知道小哥这个玩意儿怎么搭的，搞得会有延迟，哇，出于对小哥的尊重，吓得我赶紧再次复习下git用法（以下内容全部来自互联网以及本人自己的理解，如有雷同，算我抄你）。
<!--more -->

其实常用的git命令并不多（我用得少-_-||）,本文就按照一般的使用顺序来记录吧。
1. `git init`初始化一个新的空仓库（并不一定要在空文件夹中使用这个命令，有文件也可以），git会
  自动新建一个隐藏文件夹.git在这个文件夹中包含了各种版本控制信息，一般没啥事不用管他。
2. `git add` 这个命令用来告诉git你对哪些文件进行了操作，包括新建，更新会者是删除并将他们添加到暂存区。add后面可以跟文件，多个文件，也可以跟文件夹，`git add .`表示待会儿执行提交命令时更新当前文件夹下面的所有文件的状态。
3. `git commit -m 'hints'`这个命令跟在`git add`之后，将暂存区的文件提交到本地仓库，hints
可以是任意文字，但是最好是对本次修改的一个简要说明。
4.`gti status`查看当前仓库的状态，若是有更新在暂存区，比如新增，更新，删除则会有提示，若已经
commit过了之后则会告诉我们当前暂存区没有更新(类似：nothing added to commit but untracked files present)
5. `git diff file`查看文件与之前的区别，类似于linux的diff命令，不同的是diff针对的是同一个
的不同时期的差别，而linux diff则是两个不同文件的差别
6. `git reset`回滚命令，使仓库回退到某个版本`git reset --hard head^`表示回滚到上一个版本
`git reset --hard head^^`表示回滚到上两个版本，以此类推，回滚到上五十个版本的话就是`git reset--hard head^^...^^`当然这是不可能的，用`git reset --hard head^50`就好了，如果忘记是前面第几个版本了，可以直接用提交时的ID来进行回退，那如何找到当次提交的ID呢，有办法，用`git log`就可以看到每次的历史提交信息以及当次提交的ID，于是`git reset --hard ID`就可以回滚到任意的一次提交了。好吧，干的漂亮，可是
在回滚之后才发现其实没必要回滚呀，或者是回滚了到了太老的版本，怎么办？兄弟啊，您真多事，不过linus
这小哥写git的时候还真给你考虑到了这种情况，所以有`git reflog`这个后悔神器，可以看到所有的历史操作，
包括各种commit和reset操作的ID都能显示出来，说吧，您想后悔到哪一集？
